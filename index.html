<!DOCTYPE html>
<html>
  <head>
    <title>Webview</title>
    <meta charset='utf-8'>
    <script src='http://www.w3.org/Tools/respec/respec-w3c-common'
            async class='remove'></script>
    <script class='remove'>
      var respecConfig = {
          specStatus: "unofficial",
          shortName:  "webview",
          editors: [
                {   name:       "Ben Francis",
                    url:        "http://tola.me.uk",
                    company:    "Mozilla",
                    companyURL: "http://mozilla.org" }
          ],
          previousMaturity: "",
          previousPublishDate:  "",
          wg:           "",
          wgURI:        "",
          wgPublicList: "",
          wgPatentURI:  "",
          localBiblio:  {
            "MOZ-BROWSER": {
	      title: "Mozilla Browser Element",
              href: "https://developer.mozilla.org/en-US/docs/Web/API/Using_the_Browser_API",
              publisher: "Mozilla"
            },
            "GOOGLE-WEBVIEW": {
	      title: "Google Webview Element",
              href: "https://developer.chrome.com/apps/tags/webview",
              publisher: "Google"
            },
            "MS-WEBVIEW": {
	      title: "Microsoft Webview Element",
              href: "http://msdn.microsoft.com/en-gb/library/windows/apps/dn301831.aspx",
              publisher: "Microsoft"
            }
          }
      };
    </script>
  </head>
  <body>
    <section id='abstract'>
      <p>
        This specification describes a proposed <code>&lt;webview&gt;</code>
        HTML element and an associated JavaScript API which allows a web page
        to embed another web page and manipulate and listen to changes in the
        embedded content.
      </p>
    </section>

    <section id='sotd'>
      <p>
      </p>
    </section>
    
    <section>
      <h2>Introduction</h2>
      <p>    
        This is a proposed extension to the [[!HTML5]] specification.
      </p>
      <p>
        Web pages often have the need to embed other web pages. In many cases an <code>&lt;iframe&gt;</code> element is sufficient for this purpose, but when the embedded web page is not same-origin with the embedding web page an <code>&lt;iframe&gt;</code> has many limitations.</p>
      <p>Several user agents have existing implementations of features which provide privileged web apps with additional functionality when embedding cross-origin web content. Examples include the <code>&lt;iframe mozbrowser&gt;</code> element in Firefox OS [[MOZ-BROWSER]], the <code>&lt;webview&gt;</code> element in Chrome OS [[GOOGLE-WEBVIEW]] and the <code>&lt;x-ms-webview&gt;</code> element in Windows [[MS-WEBVIEW]], along with their corresponding APIs. These existing implementations include features to embed, access information about and control web content (including cross-origin content) in various ways.
      </p>
      <p>
        Note that this additional functionality would not be safe to expose to all web pages using current web security models. In the examples given above proprietary methods are used in order to safely grant these extra privileges to certain web content. A standardised security model to safely expose such features to web content is certainly needed, but that is considered outside the scope of this specification.
      </p>
    </section>
    
    <section>
      <h2>Webview Element</h2>
      <section>
        <h3>Attributes</h3>
          <section>
            <h4>src</h4>
            <p>The URL of the page to embed.</p>
          </section>
          <section>
            <h4>name</h4>
            <p>
              Sets the window.name property of the embedded browsing context.
            </p>
          </section>
          <section>
            <h4>manifest</h4>
            <p>The URL of an [[appmanifest]].</p>
            <p>By default a <code>&lt;webview&gt;</code> browser context can be
            navigated to any URL.
            If the manifest attribute is set to a valid app manifest URL then
            the browser context may instead be limited to the scope of the app
            described in the manifest.
            </p>
            <p>If the embedded browser context attempts to navigate to a URL
            outside of this scope then the user agent may instead load that
            URL outside of the embedded browser context, as per the convention
            for that user agent.
            </p>
          </section>
      </section>
      <section>
        <h3>Usage</h3>
          <p>
            <pre class="example highlight">
            &lt;webview name="foo" manifest="http://foo.com/manifest.webapp" src="http://foo.com" &#47;&gt;
            </pre>
          </p>
      </section>
    </section>
    
    <section>
      <h2>Webview API</h2>
      
        <section id="events">
          <h3>Events</h3>
          <section>
            <h4>locationchange</h4>
          </section>
          <section>
            <h4>titlechange</h4>
          </section>
          <section>
            <h4>iconchange</h4>
          </section>
          <section>
            <h4>loadstart</h4>
          </section>
          <section>
            <h4>loadend</h4>
          </section>
          <section>
            <h4>scroll</h4>
          </section>
          <section>
            <h4>close</h4>
          </section>
          <section>
            <h4>newwindow</h4>
          </section>
        </section>
        
        <section id="methods">
          <h3>Methods</h3>
          <section>
            <h4>go()</h4>
          </section>
          <section>
            <h4>stop()</h4>
          </section>
          <section>
            <h4>reload()</h4>
          </section>
          <section>
            <h4>back()</h4>
          </section>
          <section>
            <h4>forward()</h4>
          </section>
          <section>
            <h4>canGoBack()</h4>
          </section>
            <section>
            <h4>canGoForward()</h4>
          </section>
        </section>
    </section>
    
  </body>
</html>
